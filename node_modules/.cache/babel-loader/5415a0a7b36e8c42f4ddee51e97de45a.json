{"ast":null,"code":"var _jsxFileName = \"/Users/chepond/Desktop/react_app/src/pages/main.js\";\nimport React from 'react';\nimport axios from 'axios';\nconst instagramRegExp = new RegExp(/<script type=\"text\\/javascript\">window\\._sharedData = (.*)<\\/script>/);\nexport default class Main extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      persons: []\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const photos = await fetchInstagramPhotos('https://www.instagram.com/sunsetwithbubbles/'); // Do something with the photos\n    } catch (e) {\n      console.error('Fetching Instagram photos failed', e);\n    }\n  }\n\n  async fetchInstagramPhotos(accountUrl) {\n    const response = await axios.get(accountUrl);\n    const json = JSON.parse(response.data.match(instagramRegExp)[1]);\n    const edges = json.entry_data.ProfilePage[0].graphql.user.edge_owner_to_timeline_media.edges.splice(0, 8);\n    const photos = edges.map(({\n      node\n    }) => {\n      return {\n        url: `https://www.instagram.com/p/${node.shortcode}/`,\n        thumbnailUrl: node.thumbnail_src,\n        displayUrl: node.display_url,\n        caption: node.edge_media_to_caption.edges[0].node.text\n      };\n    });\n    return photos;\n  }\n\n  render() {\n    return React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, this.state.persons.map(person => React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, person.name)));\n  }\n\n}","map":{"version":3,"sources":["/Users/chepond/Desktop/react_app/src/pages/main.js"],"names":["React","axios","instagramRegExp","RegExp","Main","Component","state","persons","componentDidMount","photos","fetchInstagramPhotos","e","console","error","accountUrl","response","get","json","JSON","parse","data","match","edges","entry_data","ProfilePage","graphql","user","edge_owner_to_timeline_media","splice","map","node","url","shortcode","thumbnailUrl","thumbnail_src","displayUrl","display_url","caption","edge_media_to_caption","text","render","person","name"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,eAAe,GAAG,IAAIC,MAAJ,CAAW,sEAAX,CAAxB;AACA,eAAe,MAAMC,IAAN,SAAmBJ,KAAK,CAACK,SAAzB,CAAmC;AAAA;AAAA;AAAA,SAE9CC,KAF8C,GAEtC;AACJC,MAAAA,OAAO,EAAE;AADL,KAFsC;AAAA;;AAM5C,QAAMC,iBAAN,GAA0B;AACxB,QAAI;AACA,YAAMC,MAAM,GAAG,MAAMC,oBAAoB,CAAC,8CAAD,CAAzC,CADA,CAEA;AACD,KAHH,CAGI,OAAOC,CAAP,EAAU;AACVC,MAAAA,OAAO,CAACC,KAAR,CAAc,kCAAd,EAAkDF,CAAlD;AACD;AACJ;;AAEH,QAAMD,oBAAN,CAA2BI,UAA3B,EAAsC;AAClC,UAAMC,QAAQ,GAAG,MAAMd,KAAK,CAACe,GAAN,CAAUF,UAAV,CAAvB;AACA,UAAMG,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWJ,QAAQ,CAACK,IAAT,CAAcC,KAAd,CAAoBnB,eAApB,EAAqC,CAArC,CAAX,CAAb;AACA,UAAMoB,KAAK,GAAGL,IAAI,CAACM,UAAL,CAAgBC,WAAhB,CAA4B,CAA5B,EAA+BC,OAA/B,CAAuCC,IAAvC,CAA4CC,4BAA5C,CAAyEL,KAAzE,CAA+EM,MAA/E,CAAsF,CAAtF,EAAyF,CAAzF,CAAd;AACA,UAAMnB,MAAM,GAAGa,KAAK,CAACO,GAAN,CAAU,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAc;AACrC,aAAO;AACLC,QAAAA,GAAG,EAAG,+BAA8BD,IAAI,CAACE,SAAU,GAD9C;AAELC,QAAAA,YAAY,EAAEH,IAAI,CAACI,aAFd;AAGLC,QAAAA,UAAU,EAAEL,IAAI,CAACM,WAHZ;AAILC,QAAAA,OAAO,EAAEP,IAAI,CAACQ,qBAAL,CAA2BhB,KAA3B,CAAiC,CAAjC,EAAoCQ,IAApC,CAAyCS;AAJ7C,OAAP;AAMD,KAPc,CAAf;AAQA,WAAO9B,MAAP;AACD;;AAEH+B,EAAAA,MAAM,GAAG;AACL,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACL,KAAKlC,KAAL,CAAWC,OAAX,CAAmBsB,GAAnB,CAAuBY,MAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,MAAM,CAACC,IAAZ,CAAjC,CADK,CAAP;AAGH;;AAlC6C","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nconst instagramRegExp = new RegExp(/<script type=\"text\\/javascript\">window\\._sharedData = (.*)<\\/script>/);\nexport default class Main extends React.Component {\n\n    state = {\n        persons: []\n      }\n\n      async componentDidMount() {\n        try {\n            const photos = await fetchInstagramPhotos('https://www.instagram.com/sunsetwithbubbles/')\n            // Do something with the photos\n          } catch (e) {\n            console.error('Fetching Instagram photos failed', e)\n          }\n      }\n      \n    async fetchInstagramPhotos(accountUrl){\n        const response = await axios.get(accountUrl)\n        const json = JSON.parse(response.data.match(instagramRegExp)[1])\n        const edges = json.entry_data.ProfilePage[0].graphql.user.edge_owner_to_timeline_media.edges.splice(0, 8)\n        const photos = edges.map(({ node }) => {\n          return {\n            url: `https://www.instagram.com/p/${node.shortcode}/`,\n            thumbnailUrl: node.thumbnail_src,\n            displayUrl: node.display_url,\n            caption: node.edge_media_to_caption.edges[0].node.text\n          }\n        })\n        return photos\n      }\n\n    render() {\n        return <ul>\n        { this.state.persons.map(person => <li>{person.name}</li>)}\n      </ul>\n    }\n}"]},"metadata":{},"sourceType":"module"}